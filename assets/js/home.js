'use strict'

const categorias = [
    
    {
        nome: 'Pizza',
        imagem: '../img/icons/Logo.svg'
    },
    {
        nome: 'Soda',
        imagem: '../img/icons/Soda.svg'
    },
    {
        nome: 'Watermelon',
        imagem: '../img/icons/Watermelon.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Pizza.svg'
    },
    {
        nome: 'Sundae',
        imagem: '../img/icons/Sundae.svg'
    },
    {
        nome: 'Ice-Cream',
        imagem: '../img/icons/Ice-Cream.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Logo.svg'
    },
    {
        nome: 'Soda',
        imagem: '../img/icons/Soda.svg'
    },
    {
        nome: 'Watermelon',
        imagem: '../img/icons/Watermelon.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Pizza.svg'
    },
    {
        nome: 'Sundae',
        imagem: '../img/icons/Sundae.svg'
    },
    {
        nome: 'Ice-Cream',
        imagem: '../img/icons/Ice-Cream.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Logo.svg'
    },
    {
        nome: 'Soda',
        imagem: '../img/icons/Soda.svg'
    },
    {
        nome: 'Watermelon',
        imagem: '../img/icons/Watermelon.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Pizza.svg'
    },
    {
        nome: 'Sundae',
        imagem: '../img/icons/Sundae.svg'
    },
    {
        nome: 'Ice-Cream',
        imagem: '../img/icons/Ice-Cream.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Logo.svg'
    },
    {
        nome: 'Soda',
        imagem: '../img/icons/Soda.svg'
    },
    {
        nome: 'Watermelon',
        imagem: '../img/icons/Watermelon.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Pizza.svg'
    },
    {
        nome: 'Sundae',
        imagem: '../img/icons/Sundae.svg'
    },
    {
        nome: 'Ice-Cream',
        imagem: '../img/icons/Ice-Cream.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Logo.svg'
    },
    {
        nome: 'Soda',
        imagem: '../img/icons/Soda.svg'
    },
    {
        nome: 'Watermelon',
        imagem: '../img/icons/Watermelon.svg'
    },
    {
        nome: 'Pizza',
        imagem: '../img/icons/Pizza.svg'
    },
    {
        nome: 'Sundae',
        imagem: '../img/icons/Sundae.svg'
    },
    {
        nome: 'Ice-Cream',
        imagem: '../img/icons/Ice-Cream.svg'
    }

]

const pizzasFavoritas = [

    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '..//img/pizza-1.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo',
        preco: '19,00',
        imagem: '../img/pizza-2.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-3.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo',
        preco: '19,00',
        imagem: '../img/pizza-2.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-3.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-1.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-1.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo',
        preco: '19,00',
        imagem: '../img/pizza-2.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-3.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-3.webp'
    },
    {
        nome: 'Pizza de calabreza com queijo',
        preco: '16,00',
        imagem: '../img/pizza-1.webp'
    }

]

const pizzasRecomendadas = [

    {
        nome: 'Pizza de peperoni com queijo e tomate',
        preco: '19,65',
        imagem: '..//img//pizza-4.webp'
    },
    {
        nome: 'Pizza brotinho com queijo e tomate',
        preco: '24,99',
        imagem: '..//img//pizza-5.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo e tomate',
        preco: '19,65',
        imagem: '..//img//pizza-4.webp'
    },
    {
        nome: 'Pizza brotinho com queijo e tomate',
        preco: '24,99',
        imagem: '..//img//pizza-5.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo e tomate',
        preco: '19,65',
        imagem: '..//img//pizza-4.webp'
    },
    {
        nome: 'Pizza brotinho com queijo e tomate',
        preco: '24,99',
        imagem: '..//img//pizza-5.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo e tomate',
        preco: '19,65',
        imagem: '..//img//pizza-4.webp'
    },
    {
        nome: 'Pizza brotinho com queijo e tomate',
        preco: '24,99',
        imagem: '..//img//pizza-5.webp'
    },
    {
        nome: 'Pizza de peperoni com queijo e tomate',
        preco: '19,65',
        imagem: '..//img//pizza-4.webp'
    },
    {
        nome: 'Pizza brotinho com queijo e tomate',
        preco: '24,99',
        imagem: '..//img//pizza-5.webp'
    }

]

const bebibasCompra = [

    {
        nome:'Coca-Cola',
        imagem: '../img/coca.webp',
        preco: '14,99',
        descricao: [
            'Refrigerante Garrafa 2L',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Cerveja Heineken',
        imagem: '../img/cerveja.webp',
        preco: '19,99',
        descricao: [
            'Cerveja Heineken 500ml',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Coca-Cola',
        imagem: '../img/coca.webp',
        preco: '14,99',
        descricao: [
            'Refrigerante Garrafa 2L',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Cerveja Heineken',
        imagem: '../img/cerveja.webp',
        preco: '19,99',
        descricao: [
            'Cerveja Heineken 500ml',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Coca-Cola',
        imagem: '../img/coca.webp',
        preco: '14,99',
        descricao: [
            'Refrigerante Garrafa 2L',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Cerveja Heineken',
        imagem: '../img/cerveja.webp',
        preco: '19,99',
        descricao: [
            'Cerveja Heineken 500ml',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Coca-Cola',
        imagem: '../img/coca.webp',
        preco: '14,99',
        descricao: [
            'Refrigerante Garrafa 2L',
            'Embalagem Econômica' 
        ]
    },
    {
        nome:'Cerveja Heineken',
        imagem: '../img/cerveja.webp',
        preco: '19,99',
        descricao: [
            'Cerveja Heineken 500ml',
            'Embalagem Econômica' 
        ]
    }

]

const selecionarPizza = () => {
    
    const pizzas = document.getElementsByClassName('pizza-favorita')
    
    for (let pizza of pizzas){
        
        pizza.addEventListener('click', () => {

            console.log(pizza.style.cssText.split('"')[1])
            localStorage.setItem('imagemPizza', pizza.style.cssText.split('"')[1])
            localStorage.setItem('nomePizza', pizza.children[0].children[1].textContent)
            localStorage.setItem('precoPizza', pizza.children[0].children[0].textContent)

        })

    }
    
}



const montarUsuario = () => {
    
    let nomeUsuario = localStorage.getItem('nome')
    let imagem = localStorage.getItem('imagem')

    const foto = document.getElementById('foto-usuario')
    const nome = document.getElementById('nome-usuario')

    foto.src = imagem
    foto.alt = nome
    nome.textContent = `Bom dia, ${nomeUsuario}`

}

bebidas.addEventListener('click', () => {

        window.location.href = '#bebidas'

})

const criarCategorias = (categoria) => {

    const li = document.createElement('li')
    const button = document.createElement('button')
    button.classList.add('categoria')
    const img = document.createElement('img')
    img.src = categoria.imagem
    img.alt = categoria.nome
    
    li.appendChild(button)
    button.appendChild(img)

    const container = document.getElementById('container-categorias')
    container.appendChild(li)

}

const criarPizzasFavoritas = (pizza) => {

    const button = document.createElement('button')
    button.classList.add('pizza-favorita')
    button.style.backgroundImage = `url(${pizza.imagem})`

    const a = document.createElement('a')
    a.href = './pizza.html'

    const span = document.createElement('span')
    span.textContent = `R$ ${pizza.preco}`
    span.classList.add('preco')

    const p = document.createElement('p')
    p.textContent = pizza.nome
    p.classList.add('nome-pizza')

    button.appendChild(a)
    a.replaceChildren(span, p)

    const pizzaContainer = document.getElementById('pizzas-favoritas')
    pizzaContainer.appendChild(button)

}

const criarPizzasRecomendadas = (pizza) => {

    const button = document.createElement('button')
    button.classList.add('pizza-favorita')
    button.style.backgroundImage = `url(${pizza.imagem})`

    const a = document.createElement('a')
    a.href = './pizza.html'

    const span = document.createElement('span')
    span.textContent = `R$ ${pizza.preco}`
    span.classList.add('preco')
    span.style.display = 'none'

    const p = document.createElement('p')
    p.textContent = pizza.nome
    p.classList.add('nome-pizza')
    p.classList.add('nome-pizza-recomendada')

    button.appendChild(a)
    a.replaceChildren(span, p)

    const pizzaContainer = document.getElementById('pizzas-recomendadas')
    pizzaContainer.appendChild(button)
    
}

const criarBebidas = (bebida) => {

    const button = document.createElement('button')
    const a = document.createElement('a')
    const produto = document.createElement('div')
    const img = document.createElement('img')
    const div = document.createElement('div')
    const h3 = document.createElement('h3')
    const ul = document.createElement('ul')
    const span = document.createElement('span')
    
    button.classList.add('bebida')
    a.href = '#'
    produto.classList.add('produto')
    img.src = bebida.imagem
    img.alt = bebida.nome
    div.classList.add('bebida-info')
    h3.classList.add('nome-bebida')
    h3.textContent = bebida.nome
    ul.classList.add('descricao-bebida')
    span.classList.add('preco')
    span.textContent = `R$ ${bebida.preco}`

    bebida.descricao.forEach(descricao => {
        
        const li = document.createElement('li')
        li.textContent = descricao
        ul.appendChild(li)

    })

    button.appendChild(a)
    a.replaceChildren(produto, span)
    produto.replaceChildren(img, div)
    div.replaceChildren(h3, ul)

    const bebidaContainer = document.getElementById('container-bebidas')
    bebidaContainer.appendChild(button)
    
}

window.addEventListener('load', montarUsuario)
window.addEventListener('load', selecionarPizza)

window.addEventListener('load', categorias.forEach(categoria => {
    criarCategorias(categoria)
}))
window.addEventListener('load', pizzasFavoritas.forEach(pizza => {
    criarPizzasFavoritas(pizza)
}))
window.addEventListener('load', pizzasRecomendadas.forEach(pizza => {
    criarPizzasRecomendadas(pizza)
}))
window.addEventListener('load', bebibasCompra.forEach(bebida => {
    criarBebidas(bebida)
}))